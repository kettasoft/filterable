import{_ as i,c as l,a as o,b as s,d as e,e as p,f as a,r as c,o as r}from"./app-DC3ExQOn.js";const u={},d={class:"hint-container tip"};function k(h,n){const t=c("RouteLink");return r(),l("div",null,[n[6]||(n[6]=o(`<h1 id="getting-started-with-caching" tabindex="-1"><a class="header-anchor" href="#getting-started-with-caching"><span>Getting Started with Caching</span></a></h1><div class="hint-container tip"><p class="hint-container-title">Overview</p><p>The Filterable caching system intelligently caches filtered query results to dramatically improve performance for frequently-used filters. It supports TTL, tags, scopes, profiles, and automatic cache invalidation.</p></div><h2 id="basic-usage" tabindex="-1"><a class="header-anchor" href="#basic-usage"><span>Basic Usage</span></a></h2><p>Enable caching for any filterable query by calling the <code>cache()</code> method:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\\</span>Models<span class="token punctuation">\\</span>Post</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Cache results for 1 hour (3600 seconds)</span></span>
<span class="line"><span class="token variable">$posts</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Cache with default TTL from config</span></span>
<span class="line"><span class="token variable">$posts</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// Cache forever (until manually flushed)</span></span>
<span class="line"><span class="token variable">$posts</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">cacheForever</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="how-it-works" tabindex="-1"><a class="header-anchor" href="#how-it-works"><span>How It Works</span></a></h2><p>The caching system works at the <strong>terminal method</strong> level, meaning it only caches when you actually retrieve data:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token comment">// ✅ These are cached (terminal methods)</span></span>
<span class="line"><span class="token variable">$posts</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token variable">$count</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token variable">$first</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token variable">$paginated</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">paginate</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ❌ These are NOT cached (builder methods)</span></span>
<span class="line"><span class="token variable">$query</span> <span class="token operator">=</span> <span class="token class-name static-context">Post</span><span class="token operator">::</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">cache</span><span class="token punctuation">(</span><span class="token number">3600</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;status&#39;</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;active&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Returns query builder</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cache-key-generation" tabindex="-1"><a class="header-anchor" href="#cache-key-generation"><span>Cache Key Generation</span></a></h2><p>The system automatically generates unique, deterministic cache keys based on:</p><ul><li>Filter class name</li><li>Applied filters</li><li>Provided data</li><li>Cache scopes (user, tenant, custom)</li><li>Terminal method and arguments</li></ul><p>Example cache key:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">filterable:post_filter:a1b2c3d4:e5f6g7h8:v1:get:abc123</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration"><span>Configuration</span></a></h2><p>Enable caching globally in <code>config/filterable.php</code>:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token string single-quoted-string">&#39;cache&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;enabled&#39;</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;driver&#39;</span> <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token comment">// Uses default Laravel cache driver</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;default_ttl&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">3600</span><span class="token punctuation">,</span> <span class="token comment">// 1 hour</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;prefix&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;filterable&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string single-quoted-string">&#39;version&#39;</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">&#39;v1&#39;</span><span class="token punctuation">,</span> <span class="token comment">// Increment to invalidate all caches</span></span>
<span class="line"><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Control via environment variables:</p><div class="language-env line-numbers-mode" data-highlighter="prismjs" data-ext="env" data-title="env"><pre><code><span class="line">FILTERABLE_CACHE_ENABLED=true</span>
<span class="line">FILTERABLE_CACHE_DRIVER=redis</span>
<span class="line">FILTERABLE_CACHE_TTL=3600</span>
<span class="line">FILTERABLE_CACHE_PREFIX=filterable</span>
<span class="line">FILTERABLE_CACHE_VERSION=v1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="when-to-use-caching" tabindex="-1"><a class="header-anchor" href="#when-to-use-caching"><span>When to Use Caching</span></a></h2><p><strong>✅ Good Use Cases:</strong></p><ul><li>Frequently accessed data that changes infrequently</li><li>Heavy reports and analytics queries</li><li>Dashboard widgets with complex filters</li><li>Public-facing filtered lists</li><li>Search results with stable criteria</li></ul><p><strong>❌ Avoid Caching For:</strong></p><ul><li>Real-time data that must be always fresh</li><li>User-specific data without proper scoping</li><li>One-time queries</li><li>Simple queries that are already fast</li></ul><h2 id="performance-impact" tabindex="-1"><a class="header-anchor" href="#performance-impact"><span>Performance Impact</span></a></h2><p>Typical performance gains:</p><table><thead><tr><th>Scenario</th><th>Without Cache</th><th>With Cache</th><th>Improvement</th></tr></thead><tbody><tr><td>Complex filters (5+ conditions)</td><td>250ms</td><td>2ms</td><td><strong>125x faster</strong></td></tr><tr><td>Joins with aggregations</td><td>500ms</td><td>2ms</td><td><strong>250x faster</strong></td></tr><tr><td>Paginated results</td><td>150ms</td><td>2ms</td><td><strong>75x faster</strong></td></tr><tr><td>Simple filters</td><td>50ms</td><td>2ms</td><td><strong>25x faster</strong></td></tr></tbody></table>`,26)),s("div",d,[n[5]||(n[5]=s("p",{class:"hint-container-title"},"Next Steps",-1)),s("ul",null,[s("li",null,[e(t,{to:"/caching/strategies.html"},{default:p(()=>n[0]||(n[0]=[a("Advanced caching strategies →")])),_:1})]),s("li",null,[e(t,{to:"/caching/scoping.html"},{default:p(()=>n[1]||(n[1]=[a("Cache scoping and multi-tenancy →")])),_:1})]),s("li",null,[e(t,{to:"/caching/auto-invalidation.html"},{default:p(()=>n[2]||(n[2]=[a("Auto-invalidation setup →")])),_:1})]),s("li",null,[e(t,{to:"/caching/profiles.html"},{default:p(()=>n[3]||(n[3]=[a("Cache profiles →")])),_:1}),n[4]||(n[4]=a(" :::"))])])])])}const m=i(u,[["render",k],["__file","getting-started.html.vue"]]),v=JSON.parse('{"path":"/caching/getting-started.html","title":"Getting Started with Caching","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Basic Usage","slug":"basic-usage","link":"#basic-usage","children":[]},{"level":2,"title":"How It Works","slug":"how-it-works","link":"#how-it-works","children":[]},{"level":2,"title":"Cache Key Generation","slug":"cache-key-generation","link":"#cache-key-generation","children":[]},{"level":2,"title":"Configuration","slug":"configuration","link":"#configuration","children":[]},{"level":2,"title":"When to Use Caching","slug":"when-to-use-caching","link":"#when-to-use-caching","children":[]},{"level":2,"title":"Performance Impact","slug":"performance-impact","link":"#performance-impact","children":[]}],"git":{"updatedTime":1762955423000,"contributors":[{"name":"kettasoft","email":"kettasoft@gmail.com","commits":2}]},"filePathRelative":"caching/getting-started.md"}');export{m as comp,v as data};
